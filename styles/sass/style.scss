$body-text:#FFF;
$caption-text: rgba(255,255,255,.7);
$link:#3ba0b4;
$bg:#111;

$screen-sm:640px;

@mixin header-bg($image, $font-size: 10vw) {
  background:url($image) no-repeat top center;
  background-size: cover;
  font-family: 'Montserrat', sans-serif;
  font-size: $font-size;
  position: relative;

  &:before{
    content: ' ';
    display: block;
    background: -moz-linear-gradient(top, rgba(17,17,17,0) 0%, rgba(17,17,17,1) 100%); /* FF3.6-15 */
    background: -webkit-linear-gradient(top, rgba(17,17,17,0) 0%,rgba(17,17,17,1) 100%); /* Chrome10-25,Safari5.1-6 */
    background: linear-gradient(to bottom, rgba(17,17,17,0) 0%,rgba(17,17,17,1) 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */
    width: 100%;
    height: 100%;
    position: absolute;
    top: 0;
    left: 0;
    background-blend-mode: multiply;
  }
}

@mixin transition-opacity() {
  -webkit-transition: opacity .25s ease;
  -moz-transition: opacity .25s ease;
  transition: opacity .25s ease;
}

body {
  background:$bg;
  box-sizing:border-box;
  color: $body-text;
  margin:0;
  padding:0;
  text-align:center;
}

body, h1, h2, h5 {
  font-family: 'Merriweather', 'Open nns', nns-serif
}

h1 {
  font-size:1.4em;
  font-weight:300;
}

h2, footer {
  color:$caption-text;
  font-size:1em;
  font-weight:100;
  @media (max-width:$screen-sm){font-size:70%;}
}

h2 {
  @media (max-width:$screen-sm){margin:5px 0 20px 0;}
}

h5 {
  font-weight: 100;
  opacity: .8;
}

a {
  border:none;
  color:$link;
  text-decoration:none;
}

p {
  font-size:1.2em;
  line-height:1.5em;
  font-weight:300;
}

img {
  max-width:100%;
  height:auto;
}

header {
  display:flex;
  flex-direction: column;
  position:relative;
  width: 100%;
  height: 100%;

  &.home {
    @include header-bg('img/home_bg_color.jpg', 1em);

    @media (max-width: $screen-sm) {
      @include header-bg('img/home_bg_color-SM.jpg', 1.1em);
    }
  }

  &.argentina {
    @include header-bg('img/argentina/argentina_28.jpg');
  }

  &.australia {
    @include header-bg('img/thumb/australia.jpg');
  }

  &.budapest {
    @include header-bg('img/budapest/budapest_1.jpg');

    .anchor {opacity: .5;}
  }

  &.cambodia {
    @include header-bg('img/thumb/cambodia.jpg');

    .anchor {opacity: .5;}
  }

  &.croatia {
    @include header-bg('img/thumb/croatia.jpg');
  }

  &.galapagos {
    @include header-bg('img/galapagos/galapagos_6.jpg');
  }

  &.istanbul {
    @include header-bg('img/thumb/istanbul.jpg');

    .anchor {opacity: .4;}
  }

  &.london{
    @include header-bg('img/thumb/london.jpg');
  }

  &.nepal{
    @include header-bg('img/nepal/nepal_7.jpg');
  }

  &.newzealand{
    @include header-bg('img/thumb/newzealand.jpg');
  }

  &.norway {
    @include header-bg('img/norway/hero.jpg');
    background:url('img/norway/hero.jpg') no-repeat 81% top;
  }

  &.peru {
    @include header-bg('img/peru/peru_13.jpg');
  }

  &.quilotoa{
    @include header-bg('img/thumb/quilotoa.jpg');
  }

  &.reykjavik {
    @include header-bg('img/thumb/reykjavik.JPG');
  }

  &.rome{
    @include header-bg('img/rome/rome_6.jpg');
  }

  &.slovenia{
    @include header-bg('img/thumb/slovenia.jpg');
  }

  &.southafrica{
    @include header-bg('img/southafrica/hero.jpg');
  }

  &.squamish{
    @include header-bg('img/thumb/squamish.jpg');

    .anchor {opacity: .5;}
  }

  &.thailand{
    @include header-bg('img/thumb/thailand.jpg');

    .anchor {opacity: .5;}
  }

  &.tofo{
    @include header-bg('img/thumb/tofo.jpg');

    .anchor {opacity: .5;}
  }

  .quote, .intro, + .quote {
    max-width: 80%;
    margin: auto;
    position: relative;
  }

  .quote {
    align-self: center;
    color: $body-text;
  }

  .intro {
    h3 {line-height: 0;}
    h5 {
      font-size: 22px;
      margin-top: -7%;
    }
  }

  + .quote {
    margin-bottom: 20%;
    width: 1000px;

    @media (max-width: $screen-sm) {
      margin-bottom: 35%;
    }

    p {
      font-size: 1.9em;

      @media (max-width:$screen-sm) {
        font-size: 1.3em;
        margin: auto;
        max-width: 80%;
      }
    }

    &:before {
      background: url('img/quotation.svg') no-repeat;
      background-size: contain;
      content: ' ';
      display: block;
      max-width: 200px;
      width: 20em;
      height:  20em;
      opacity: .05;
      position: absolute;
      margin: auto;
      left: 0;
      right: 0;
      top: -20%;

      @media (max-width: $screen-sm) {
        top: 0;
      }
    }
  }

  //anchor image style
  .anchor {
    position: absolute;
    top: 30px;
    left: 0;
    right: 0;
    margin: auto;
    opacity:.35;
    @include transition-opacity();

    &:hover, &.hover {
      opacity:.65;
    }
  }

}

footer {
  display:block;
  font-size:.9em;
  margin:0 auto;
  padding:20px 0 20px 0;
  text-align:center;
}

.arrow {
  position: absolute;
  bottom: 10%;
  right: 0;
  left: 0;
  margin: auto;
  opacity: 1;

  &.hover, &:hover {
    opacity:1;
  }
}

#photos {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;

  a {
    width: 50%;

    @media (max-width:$screen-sm){
      width: 100%;
    }
  }
}

.thumb {
  margin: .5%;
  position:relative;

  @media (max-width: $screen-sm) {
    margin: .5% 0;
  }
}

.overlay {
  background:rgba(0,0,0,.55);
  display: flex;
  justify-content: center;
  flex-direction: column;
  cursor:pointer;
  opacity:0;
  width:100%;
  height:100%;
  position:absolute;
  @include transition-opacity();
  @media (max-width:992px){font-size:90%;}
  @media (max-width:767px){font-size:80%;}
  @media (max-width:$screen-sm){font-size:70%; opacity:1;}

  .title {
    font-size:2.8em;
    font-family: 'Montserrat', sans-serif;
    margin:0 auto;
  }

  .title, h5 {
    color: $body-text;
    -webkit-user-select: none; /* Chrome/nfari */
    -moz-user-select: none; /* Firefox */
    -ms-user-select: none; /* IE10+ */
    -o-user-select: none;
    user-select: none;
    cursor:pointer;
  }

  h5 {
    font-size: 1.2em;
    font-weight: 100;
    margin-top: 4px;
  }
}

.thumb:hover .overlay {
  opacity:1;
}

//****   GALLERY STYLES    ****//

.gallery {
  display: flex;
  flex-direction: column;

  .photo {
    max-width:1000px;
    margin:0 auto 8%;

    @media (max-width: $screen-sm) {
      margin: 0 auto 20%;
    }

    h2 {
      margin-top:10px;
      opacity: .2;
      @include transition-opacity();

      @media (max-width: $screen-sm) {
        opacity: 1;
      }
    }

    &:hover {
      h2 {opacity: 1;}
    }
  }
}

.nav-wrapper {
  background:darken($bg, 2%);
  display:block;
  padding:30px 0;
  width:100%;

  .nav {
    max-width:1000px;
    margin:0 auto;

    .item {
      display:inline-block;
      width:32%;
      max-width:300px;
      margin:15px;
      height:auto;
      position:relative;
      @media (max-width:$screen-sm){
        margin:2px 0;
        max-width: none;
        width:100%;
      }

      .overlay {
        opacity:1;

        .title {
          font-size:2em;
          top:38%;
        }
      }

      &:hover .title {
        text-decoration:underline;
      }
    }
  }
}

@-moz-document url-prefix() {
  .gallery .photo {
    margin: 0 auto 180px;

    @media (max-width: $screen-sm) {
      margin: 0 auto 90px;
    }
  }
}
